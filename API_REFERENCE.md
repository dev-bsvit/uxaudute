# üîå API Reference - UX Audit Platform

> **–í–µ—Ä—Å–∏—è API**: 1.1.0  
> **–ë–∞–∑–æ–≤—ã–π URL**: `https://uxaudute.vercel.app/api`  
> **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: Supabase JWT Token  

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–í—Å–µ API endpoints —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Supabase JWT —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
Authorization: Bearer YOUR_JWT_TOKEN
```

### üìù –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
```typescript
// –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
{
  "result": string,
  "timestamp": string
}

// –û—à–∏–±–∫–∞
{
  "error": string,
  "timestamp": string
}
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

### **POST /api/research**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π UX –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "url": "https://example.com",           // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "screenshot": "data:image/png;base64,..." // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "result": "# UX –ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞\n\n## –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞\n...",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

**–ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ï—Å–ª–∏ –µ—Å—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç: GPT-4 Vision –∞–Ω–∞–ª–∏–∑
3. –ï—Å–ª–∏ –µ—Å—Ç—å URL: –¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ GPT-4
4. –í–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

### **POST /api/collect**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–±–æ—Ä–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "context": "–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ UX –∞–Ω–∞–ª–∏–∑–∞..."
}
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "result": "# –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–±–æ—Ä–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π\n\n1. –ö—Ç–æ –≤–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è?...",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

---

### **POST /api/business**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑ UX —Ä–µ—à–µ–Ω–∏–π

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "context": "–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ UX –∞–Ω–∞–ª–∏–∑–∞..."
}
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "result": "# –ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑\n\n## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—é\n...",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

---

### **POST /api/ab_test**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "context": "–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ UX –∞–Ω–∞–ª–∏–∑–∞..."
}
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "result": "# A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n\n## –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n...",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

---

### **POST /api/hypotheses**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏–ø–æ—Ç–µ–∑ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "context": "–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ UX –∞–Ω–∞–ª–∏–∑–∞..."
}
```

**–û—Ç–≤–µ—Ç**:
```json
{
  "result": "# –ì–∏–ø–æ—Ç–µ–∑—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è\n\n## –ì–∏–ø–æ—Ç–µ–∑–∞ 1\n...",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ endpoints

### **GET /api/debug**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç**:
```json
{
  "env": {
    "supabaseUrl": "PRESENT",
    "supabaseKey": "PRESENT", 
    "openaiKey": "PRESENT",
    "appUrl": "https://uxaudute.vercel.app"
  },
  "timestamp": "2025-09-02T22:30:00Z"
}
```

### **GET /api/auth-test**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase

**–û—Ç–≤–µ—Ç**:
```json
{
  "success": true,
  "hasSession": false,
  "timestamp": "2025-09-02T22:30:00Z"
}
```

### **GET /api/health**
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API

**–û—Ç–≤–µ—Ç**:
```json
{
  "status": "healthy",
  "version": "1.1.0",
  "timestamp": "2025-09-02T22:30:00Z"
}
```

---

## üìä –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 200 | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| 401 | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω |
| 403 | –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ |
| 429 | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---

## üö¶ Rate Limiting

- **–û—Å–Ω–æ–≤–Ω—ã–µ endpoints**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ**: 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- **–ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏**: HTTP 429 + –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Retry-After`

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript/TypeScript
```javascript
// –ê–Ω–∞–ª–∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
const response = await fetch('/api/research', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({
    screenshot: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...'
  })
});

const data = await response.json();
console.log(data.result);
```

### cURL
```bash
# –ê–Ω–∞–ª–∏–∑ URL
curl -X POST https://uxaudute.vercel.app/api/research \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"url": "https://example.com"}'
```

---

## üîÑ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–ú–∞–∂–æ—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- **–ú–∏–Ω–æ—Ä–Ω—ã–µ**: –ù–æ–≤—ã–µ endpoint'—ã, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ
- **–ü–∞—Ç—á–∏**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —É–∫–∞–∑–∞–Ω–∞ –≤ `package.json` –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ `/api/health`.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues**: https://github.com/dev-bsvit/uxaudute/issues
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `PROJECT_SPECIFICATION.md`
- **Status Page**: https://uxaudute.vercel.app/api/health
