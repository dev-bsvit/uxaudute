# üìä JSON API Reference - UX Audit Platform

## –û–±–∑–æ—Ä

–ù–æ–≤—ã–π JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ UX –∞–Ω–∞–ª–∏–∑–∞ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤.

## Endpoints

### POST /api/research-json

–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON –æ—Ç–≤–µ—Ç–∞.

#### –ó–∞–ø—Ä–æ—Å

```json
{
  "url": "https://example.com",           // URL —Å–∞–π—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  "screenshot": "data:image/jpeg;base64...", // Base64 —Å–∫—Ä–∏–Ω—à–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  "context": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç"    // –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏–∑–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "success": true,
  "data": {
    "screenDescription": {
      "screenType": "–õ–µ–Ω–¥–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–∞",
      "userGoal": "–ü–æ–Ω—è—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
      "keyElements": [
        "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Ü–µ–Ω–Ω–æ—Å—Ç–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º",
        "–ö–Ω–æ–ø–∫–∞ '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ'",
        "–§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
        "–°–ø–∏—Å–æ–∫ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤"
      ],
      "confidence": 85,
      "confidenceReason": "–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–µ–Ω–¥–∏–Ω–≥–∞ —Å —è–≤–Ω—ã–º CTA"
    },
    "uxSurvey": {
      "questions": [
        {
          "id": 1,
          "question": "–ö–∞–∫–æ–≤–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã?",
          "options": [
            "A) –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è/–≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É",
            "B) –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥—É–∫—Ç–µ", 
            "C) –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–æ–∫—É–ø–∫—É/–∑–∞–∫–∞–∑"
          ],
          "scores": [70, 20, 10],
          "confidence": 85
        }
      ],
      "overallConfidence": 82
    },
    "problemsAndSolutions": [
      {
        "element": "–ö–Ω–æ–ø–∫–∞ '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ'",
        "problem": "–ù–∏–∑–∫–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å CTA –∫–Ω–æ–ø–∫–∏",
        "principle": "–ü—Ä–∏–Ω—Ü–∏–ø –≤–∏–¥–∏–º–æ—Å—Ç–∏ (Visibility of System Status)",
        "consequence": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–µ –∑–∞–º–µ—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é",
        "recommendation": "–£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏",
        "expectedEffect": "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –Ω–∞ 15-20%",
        "priority": "high"
      }
    ],
    "selfCheck": {
      "checklist": {
        "coversAllElements": true,
        "noContradictions": true,
        "principlesJustified": true,
        "actionClarity": true
      },
      "confidence": {
        "analysis": 85,
        "survey": 82,
        "recommendations": 88
      }
    },
    "metadata": {
      "timestamp": "2024-01-01T12:00:00Z",
      "version": "1.0",
      "model": "gpt-4o"
    }
  },
  "format": "json"
}
```

#### –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

```json
{
  "success": false,
  "error": "–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –æ—Ç–≤–µ—Ç–∞",
  "rawResponse": "–°—ã—Ä–æ–π –æ—Ç–≤–µ—Ç –æ—Ç OpenAI"
}
```

## TypeScript —Ç–∏–ø—ã

```typescript
import { 
  StructuredAnalysisResponse,
  ScreenDescription,
  UXSurvey,
  ProblemSolution,
  SelfCheck
} from '@/lib/analysis-types'

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const response: StructuredAnalysisResponse = await fetch('/api/research-json', {
  method: 'POST',
  body: JSON.stringify({ url: 'https://example.com' })
}).then(res => res.json())
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### ScreenDescription
- `screenType`: –¢–∏–ø —ç–∫—Ä–∞–Ω–∞ (–ª–µ–Ω–¥–∏–Ω–≥, —Ñ–æ—Ä–º–∞, –¥–∞—à–±–æ—Ä–¥ –∏ —Ç.–¥.)
- `userGoal`: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è —Ü–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `keyElements`: –ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `confidence`: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∞–Ω–∞–ª–∏–∑–µ (0-100)
- `confidenceReason`: –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

### UXSurvey
- `questions`: –ú–∞—Å—Å–∏–≤ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
- `overallConfidence`: –û–±—â–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ–ø—Ä–æ—Å–µ

### ProblemSolution
- `element`: –≠–ª–µ–º–µ–Ω—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- `problem`: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- `principle`: UX –ø—Ä–∏–Ω—Ü–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–µ–Ω
- `consequence`: –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
- `recommendation`: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- `expectedEffect`: –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç
- `priority`: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (high/medium/low)

### SelfCheck
- `checklist`: –ß–µ–∫-–ª–∏—Å—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞
- `confidence`: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –±–ª–æ–∫–∞–º

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ JSON API

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞
3. **–ü–∞—Ä—Å–∏–Ω–≥** - –ª–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è

## –ú–∏–≥—Ä–∞—Ü–∏—è

### –°—Ç–∞—Ä—ã–π API (—Ç–µ–∫—Å—Ç–æ–≤—ã–π)
```javascript
const response = await fetch('/api/research', {
  method: 'POST',
  body: JSON.stringify({ url: 'https://example.com' })
})
const { result } = await response.json()
// result - —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –æ—Ç—á–µ—Ç–æ–º
```

### –ù–æ–≤—ã–π API (JSON)
```javascript
const response = await fetch('/api/research-json', {
  method: 'POST', 
  body: JSON.stringify({ url: 'https://example.com' })
})
const { success, data } = await response.json()
// data - —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
```

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°—Ç–∞—Ä—ã–π API `/api/research` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã. –ù–æ–≤—ã–π API `/api/research-json` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç —Å URL
curl -X POST http://localhost:3000/api/research-json \
  -H "Content-Type: application/json" \
  -d '{"url": "https://example.com"}'

# –¢–µ—Å—Ç —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º
curl -X POST http://localhost:3000/api/research-json \
  -H "Content-Type: application/json" \
  -d '{"screenshot": "data:image/jpeg;base64,/9j/4AAQ..."}'
```


